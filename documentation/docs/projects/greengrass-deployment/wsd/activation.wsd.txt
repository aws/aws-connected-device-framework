title User based Device Activation Flow

participant "User" as u
participant "<<CDF>>\nGreengrass\nDeployment" as cdfgd
participant "<<AWS>>\nSSM" as ssm
participant "<<AWS>>\nDynamoDB" as ddb
participant "Device" as d



u ->+ cdfgd : POST devices/{deviceId}/activations
cdfgd ->+ ssm: create hybrid activation
ssm -->- cdfgd: hybrid activation
cdfgd -> ddb: save activation info
cdfgd -->- u: hybrid activation

u -->+ d: SSH/HTTP Activate Device
d -->- ssm: ssm-agent: activate